{"remainingRequest":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\src\\components\\keep\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\src\\components\\keep\\login.vue","mtime":1558144379363},{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      uphone: '',\n      upassword: '',\n      uid: 0\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      var uphone = this.uphone;\n      var upassword = this.upassword;\n      var h_reg = /1[3-8]\\d{9}/;\n      var p_reg = /\\d{3,9}/;\n\n      if (h_reg.test(uphone) != true) {\n        Toast(\"用户名格式有误\");\n        return;\n      }\n\n      if (p_reg.test(upassword) != true) {\n        Toast(\"密码格式有误\");\n        return;\n      }\n\n      var url = \"http://127.0.0.1:3300/user?uphone=\" + uphone + \"&upassword=\" + upassword;\n      this.axios.get(url).then(function (result) {\n        // console.log(result.data.code==1)\n        if (result.data.code == 1) {\n          Toast(\"登陆成功\"); // console.log(result.data.data[0].uid);\n\n          var ses = window.sessionStorage;\n          var uid = result.data.data[0].uid;\n          var ava = result.data.data[0].ava; // console.log(ava)\n\n          ses.setItem(\"data\", uid);\n          var nuid = window.sessionStorage.data; // console.log(nuid);\n\n          _this.uid = result.data.data[0].uid;\n\n          _this.$router.push(\"/home\");\n\n          _this.$store.state.uid = nuid;\n          _this.$store.state.ava = ava;\n          _this.$store.state.islogin = true;\n          console.log(_this.$store.state.islogin);\n        } else {\n          Toast(\"登录失败\");\n        }\n      });\n    },\n    toHome: function toHome() {\n      this.$router.push(\"/home\");\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,cAAA,EADA;AAEA,iBAAA,EAFA;AAGA,WAAA;AAHA,KAAA;AAKA,GAPA;AAQA,WAAA;AACA,SADA,mBACA;AAAA;;AACA,UAAA,SAAA,KAAA,MAAA;AACA,UAAA,YAAA,KAAA,SAAA;AACA,UAAA,QAAA,aAAA;AACA,UAAA,QAAA,SAAA;;AACA,UAAA,MAAA,IAAA,CAAA,MAAA,KAAA,IAAA,EAAA;AACA,cAAA,SAAA;AACA;AACA;;AACA,UAAA,MAAA,IAAA,CAAA,SAAA,KAAA,IAAA,EAAA;AACA,cAAA,QAAA;AACA;AACA;;AACA,UAAA,MAAA,uCAAA,MAAA,GAAA,aAAA,GAAA,SAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,MAAA,EADA,CAEA;;AACA,cAAA,MAAA,OAAA,cAAA;AACA,cAAA,MAAA,OAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,GAAA;AACA,cAAA,MAAA,OAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,GAAA,CALA,CAMA;;AACA,cAAA,OAAA,CAAA,MAAA,EAAA,GAAA;AACA,cAAA,OAAA,OAAA,cAAA,CAAA,IAAA,CARA,CASA;;AACA,gBAAA,GAAA,GAAA,OAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,GAAA;;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,GAAA,GAAA,IAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,GAAA,GAAA,GAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,kBAAA,GAAA,CAAA,MAAA,MAAA,CAAA,KAAA,CAAA,OAAA;AACA,SAhBA,MAgBA;AACA,gBAAA,MAAA;AACA;AACA,OArBA;AAsBA,KArCA;AAsCA,UAtCA,oBAsCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AAxCA;AARA,CAAA","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div class=\"mui-content\">\r\n      <div class=\"notpassword\">\r\n          <a class=\"backhome\" href=\"javascript:;\" @click=\"toHome\">返回首页</a>\r\n          <a href=\"javascript:;\">免密码登陆</a>\r\n      </div>\r\n      <div class=\"loginForm\">\r\n          <h1>\r\n              密码登陆\r\n          </h1>\r\n          <div>\r\n            <select name=\"\" id=\"\">\r\n              <option value=\"\">+86</option>\r\n              <option value=\"\">+10086</option>\r\n              <option value=\"\">+00852</option>\r\n            </select>\r\n            <input v-model=\"uphone\" placeholder=\"请输入手机号\" type=\"text\">\r\n          </div>\r\n          <div class=\"password\">\r\n            <div>密码：</div>\r\n            <input v-model=\"upassword\" type=\"password\" placeholder=\"至少六位\">\r\n          </div>\r\n          <div class=\"denglu\">\r\n            <button @click=\"login\">登录</button>\r\n          </div>\r\n          <div class=\"forget\">\r\n            <a href=\"\">忘记密码</a>\r\n          </div>\r\n          <div class=\"moredetail\">\r\n            <div class=\"i-bor\">\r\n              <img class=\"icon\" src=\"../../img/ic_login_weixin_off.png\" alt=\"\">\r\n            </div>\r\n             <div class=\"i-bor\">\r\n              <img class=\"icon\" src=\"../../img/ic_login_qq_off.png\" alt=\"\">\r\n            </div>\r\n             <div class=\"i-bor\">\r\n              <img class=\"icon\" src=\"../../img/ic_login_weibo_off.png\" alt=\"\">\r\n            </div>\r\n             <div class=\"i-bor\">\r\n              <img class=\"icon\" src=\"../../img/kt_ic_more.png\" alt=\"\">\r\n            </div>\r\n          </div>\r\n          <div class=\"end\">\r\n            登录即代表同意Keep<a href=\"\">用户协议</a>和<a href=\"\">隐私政策</a>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {Toast} from \"mint-ui\"\r\nexport default {\r\n    data() {\r\n      return {\r\n        uphone:'',\r\n        upassword:'',\r\n        uid:0\r\n      }\r\n    },\r\n    methods: {\r\n      login(){\r\n        var uphone=this.uphone;\r\n        var upassword=this.upassword;\r\n        var h_reg=/1[3-8]\\d{9}/;\r\n        var p_reg=/\\d{3,9}/;\r\n        if(h_reg.test(uphone)!=true){\r\n          Toast(\"用户名格式有误\");\r\n          return;\r\n        }\r\n        if(p_reg.test(upassword)!=true){\r\n          Toast(\"密码格式有误\");\r\n          return;\r\n        }\r\n        var url=\"http://127.0.0.1:3300/user?uphone=\"+uphone+\"&upassword=\"+upassword;\r\n        this.axios.get(url).then(result=>{\r\n          // console.log(result.data.code==1)\r\n          if(result.data.code==1){\r\n            Toast(\"登陆成功\");\r\n            // console.log(result.data.data[0].uid);\r\n            var ses=window.sessionStorage;\r\n            var uid=result.data.data[0].uid;\r\n            var ava=result.data.data[0].ava;\r\n            // console.log(ava)\r\n            ses.setItem(\"data\",uid);\r\n            var nuid=window.sessionStorage.data;\r\n            // console.log(nuid);\r\n            this.uid=result.data.data[0].uid;\r\n            this.$router.push(\"/home\");\r\n            this.$store.state.uid=nuid;\r\n            this.$store.state.ava=ava;\r\n            this.$store.state.islogin=true;\r\n            console.log(this.$store.state.islogin);\r\n          }else{\r\n            Toast(\"登录失败\")\r\n          }\r\n        })\r\n      },\r\n      toHome(){\r\n        this.$router.push(\"/home\");\r\n      }\r\n    },\r\n}\r\n</script>\r\n<style>\r\n  .login .mui-content{\r\n    background:rgb(88,79,96) !important;\r\n    height:100%;\r\n  }\r\n  .backhome{\r\n    position: relative;\r\n    left:-11.4rem;\r\n  }\r\n  .login .notpassword{\r\n    color:#fff;\r\n    text-align: right;\r\n    padding:2rem 1.2rem 2rem 0rem;;\r\n  }\r\n  .login .notpassword a{\r\n    color:#fff;\r\n    font-size:16px;\r\n  }\r\n  .login .loginForm{\r\n     margin:0 2rem 1rem 2rem;\r\n  }\r\n  .loginForm>h1{\r\n      font-size:1.75rem;\r\n      font-weight: normal;\r\n      color: #fff;\r\n      padding-bottom: 2rem;\r\n  }\r\n  .login .loginForm>div:nth-child(2){\r\n    display: flex;\r\n    border-bottom: #fff;\r\n  }\r\n  .login .loginForm>div:nth-child(2)>select{\r\n    color: #fff;\r\n    background: rgb(88,79,96) !important;\r\n    font-size:16px;\r\n    width:20%;\r\n    padding-left: 0px;\r\n    padding-right:0px;\r\n  }\r\n  .login .loginForm>div:nth-child(2)>input{\r\n    border:0;\r\n    border-bottom: #ccc;\r\n    background: rgb(88,79,96);\r\n    color: #ffffff;\r\n    width:80%;\r\n    padding:1rem 0;\r\n  }\r\n  .login .password{\r\n    color: #fff;\r\n    padding-bottom: 10px;\r\n  }\r\n  .login .password{\r\n    border-bottom: #fff;\r\n  }\r\n  .login .password div{\r\n    font-size:16px;\r\n    width:17%;\r\n    padding:10px 0;\r\n  }\r\n  .login .password>input{\r\n    border-top:0;\r\n    border-left:0;\r\n    border-right:0;\r\n    background: rgb(88,79,96);\r\n    color: #ffffff;\r\n    padding:0;\r\n    font-size:17px;\r\n    letter-spacing: 0.1rem;\r\n    margin-bottom: 10px;\r\n    padding-left: 5px;\r\n  }\r\n  .login .denglu{\r\n    text-align: center;\r\n    width:100%;\r\n  }\r\n  .login .denglu>button{\r\n    color:#fff !important;\r\n    width:90%;\r\n    padding:1rem 0;\r\n    background: rgb(62,139,117);\r\n    border:0;\r\n    border-radius: 30px;\r\n    margin-bottom:1.5rem;\r\n  }\r\n  .login .forget{\r\n    text-align: center;\r\n    padding-bottom: 4.5rem;\r\n    text-decoration: underline;\r\n    letter-spacing: 0.1rem;\r\n    font-size: 16px;\r\n  }\r\n  .login .forget>a{\r\n    color: #fff;\r\n    font-size: 15px;\r\n  }\r\n  .login .moredetail{\r\n    display: flex;\r\n    justify-content: space-around;\r\n    padding:2rem;\r\n  }\r\n  .login .icon{\r\n    width:1.2rem;\r\n    height:1.2rem;\r\n  }\r\n  .login .i-bor{\r\n    width:33px;\r\n    height:33px;\r\n    border:1px solid rgb(121,114,128);\r\n    border-radius: 50%;\r\n    padding:5px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .login .end{\r\n    padding-bottom: 3rem;\r\n    color:#fff;\r\n    font-size: 12px;\r\n    display: flex;\r\n    justify-content: center;\r\n    letter-spacing: 0.1rem;\r\n  }\r\n  .login .end>a{\r\n    color: #fff;\r\n    text-decoration: underline;\r\n  }\r\n</style>"],"sourceRoot":"src\\components\\keep"}]}