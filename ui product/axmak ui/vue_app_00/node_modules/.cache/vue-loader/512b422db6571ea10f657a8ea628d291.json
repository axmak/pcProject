{"remainingRequest":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\src\\components\\home\\GoodList.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\src\\components\\home\\GoodList.vue","mtime":1557828292977},{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"E:\\axmak项目\\ui product\\axmak ui\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*外层的父元素*/\n.app-goodlist{\n    display: flex; /*弹性布局*/\n    flex-wrap: wrap; /*子元素换行*/\n    justify-content: space-between; /*两端对齐*/\n    padding:4px;\n}\n/*商品的信息*/\n.app-goodlist .good-item{\n    width:49%;\n    border: 1px solid #ccc;\n    margin:2px 0;   /*外补丁*/\n    padding:2px;    /*内补丁*/\n    display:flex;\n    flex-direction: column;\n    min-height:245px;\n}\n/*商品的图片*/\n.app-goodlist .good-item img{\n    width:100%;\n}\n",{"version":3,"sources":["GoodList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GoodList.vue","sourceRoot":"src\\components\\home","sourcesContent":["<template>\r\n    <div class=\"app-goodlist\">\r\n       <!-- 商品列表 -->\r\n       <!-- 添加按钮 mint ui Button -->\r\n       <div v-for=\"item of list\" class=\"good-item\" :key=\"item.i\">\r\n           <!-- 1.1图片 -->\r\n           <img src=\"http://127.0.0.1:3000/3.jpg\" alt=\"\">\r\n           <!-- 1.2商品名称 -->\r\n           <h4 v-text=\"item.lname\"></h4>\r\n           <!-- 1.3商品价格 -->\r\n           <h4 class=\"now\" v-text=\"item.price\"></h4>\r\n       </div>\r\n        <mt-button size=\"large\" type=\"primary\" @click=\"loadMore\">加载更多</mt-button>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            pno:\"\",\r\n            pageSize:\"\",\r\n            list:[], /* 接受服务器返回的商品数组 */\r\n            pno:1,\r\n            hasMore:true,\r\n        }\r\n    },\r\n    created(){\r\n        // 创建变量保存请求地址 url\r\n        var url=\"http://127.0.0.1:3000/getGoodlist\"\r\n        // 发送ajax 无参数\r\n        this.axios.get(url).then(result=>{\r\n        // 接受返回的商品数组\r\n        // 保存到list\r\n        this.list=result.data.data;\r\n        console.log(this.list)\r\n        });\r\n        var id=this.$route.query.id;\r\n        console.log(id);\r\n    },\r\n    methods:{\r\n        loadMore(){ \r\n            if(this.hasMore==false){\r\n                // 当前组件临时引入\r\n                // 1:import {Toast} from \"mint-ui\"\r\n                // 2:Toast(\"...\")\r\n                this.$toast(\"没有更多内容....\");  //完整引入的方式\r\n                return;\r\n            }\r\n            //加载下一页\r\n            this.pno++;\r\n            //加载下一页数据\r\n            // 1.创建url请求地址\r\n            // 2.添加参数pno=2\r\n            var url=`http://127.0.0.1:3000/getGoodlist?pno=${this.pno}`;\r\n            // 3.发送ajax请求\r\n            // 4.获取服务器数据\r\n            this.axios.get(url).then(result=>{\r\n            // 5.将返回值保存 list  \r\n            //创建新数组，将新数组赋值给this.list\r\n                this.list=this.list.concat(result.data.data);\r\n                if(this.pno>=result.data.pageCount){\r\n                    this.hasMore=false;\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    /*外层的父元素*/\r\n    .app-goodlist{\r\n        display: flex; /*弹性布局*/\r\n        flex-wrap: wrap; /*子元素换行*/\r\n        justify-content: space-between; /*两端对齐*/\r\n        padding:4px;\r\n    }\r\n    /*商品的信息*/\r\n    .app-goodlist .good-item{\r\n        width:49%;\r\n        border: 1px solid #ccc;\r\n        margin:2px 0;   /*外补丁*/\r\n        padding:2px;    /*内补丁*/\r\n        display:flex;\r\n        flex-direction: column;\r\n        min-height:245px;\r\n    }\r\n    /*商品的图片*/\r\n    .app-goodlist .good-item img{\r\n        width:100%;\r\n    }\r\n</style>\r\n"]}]}